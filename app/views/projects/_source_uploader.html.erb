<div>
  <input type="file" accept=".csv" data-bind="file: source_file">
  <button data-bind="visible: source_file, click: readSourceHeader">Looky loo</button>
</div>
<div data-bind="with: source_header">
  <table>
    <thead>
      <tr data-bind="foreach: header().row()">
        <th>
          <div data-bind="text: $data"></div>
          <div>
            <label>Unique id</label>
            <input type="radio" name="unique_id" data-bind="checkedValue: $index, checked: $parents[1].unique_id_idx, click: function(){ $parents[1].clear_diff_fields($index()); return true;}"/>
          </div>
          <div>
            <label>Use to diff</label>
            <input type="checkbox" data-bind="checkedValue: [$index(),$data], checked: $parents[1].diff_fields, disable: $parents[1].unique_id_idx() === $index()" />
          </div>
        </th>
      </tr>
    </thead>
    <tbody data-bind="foreach: rows()">
      <tr data-bind="foreach: $data.row()">
        <td data-bind="text: $data"></td>
      </tr>
    </tbody>
  </table>
</div>
<button data-bind="click: submit">Submit</button>
<div data-bind="visible: showRowsUploaded">
  Uploaded: <span data-bind="text: parent.source_rows_uploaded"></span>
</div>